ParseDec â† {+Â´('0'-Ëœğ•©)Ã—(âŒ½10â‹†â†•â‰ ğ•©)}
SplitAt â† { x F c: "" {(Â¬(((â‰ c)â†‘ğ•©)â‰¡c))?(ğ•¨âˆ¾âŠ‘ğ•©)ğ•Š(1â†“ğ•©);ğ•¨â€¿((â‰ c)â†“ğ•©)} x }
data â† â€¢file.Lines "day05.dat2"
lines â† âˆ§Ë˜>{>{ParseDecÂ¨ğ•©SplitAt","}Â¨ğ•©SplitAt" -> "}Â¨data
X0â€¿Y0â€¿X1â€¿Y1 â† â¥Š{ğ•©âŠ‘âŠ¢}Â¨â†•2â€¿2
Dâ†(Y1-Y0)Ã·(X1-X0)
OnlyVH â† ((X0=X1)âˆ¨(Y0=Y1))Ë˜âŠ¸/
Plot â† DâŠ¸{
  âˆ ğ•Š ğ•©:yâ†{aâ€¿b:aâ†“â†•b+1}1âŠË˜ğ•©,xâ†(X0 ğ•©)Â¨y,â‰>xâ€¿y;
  d ğ•Š ğ•©:xâ†{aâ€¿b:aâ†“â†•b+1}0âŠË˜ğ•©,yâ†(Y0 ğ•©)+Â¨dÃ—â†•(â‰ x),â‰>xâ€¿y
}
PlotAndCountDups â† {â‰ (1=âŠ’)âŠ¸/âˆ¾{<Plot}Ë˜ğ•©}
PlotAndCountDups OnlyVH lines
PlotAndCountDups lines
